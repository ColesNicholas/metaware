geom_errorbarh(height = .5) +
# add moderator label
geom_text(aes(label = Moderator),
x = -2.25,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add s label
geom_text(aes(label = s),
x = -1.75,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add k label
# add study label
geom_text(aes(label = k),
x = -1.5,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add p-value label
geom_text(aes(label = p),
x = 2.1,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
coord_cartesian(xlim=c(-2.25, 2.25)) +
geom_vline(xintercept = 0,
color = "black",
linetype = "dashed",
alpha = .5) +
theme_classic() +
theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
axis.title.y = element_blank())
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point() +
geom_errorbarh(height = .5) +
# add moderator label
geom_text(aes(label = Moderator),
x = -2.25,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add s label
geom_text(aes(label = s),
x = -1.75,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add k label
# add study label
geom_text(aes(label = k),
x = -1.5,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add p-value label
geom_text(aes(label = p),
x = 2.1,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
coord_cartesian(xlim=c(-2.25, 2.25)) +
geom_vline(xintercept = 0,
color = "black",
linetype = "dashed",
alpha = .5) +
theme_classic() +
theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
axis.title.y = element_blank(),
axis.line.y = element_blank())
tmp <- mod.r %>%
group_split(mod) %>%
map_dfr(~ add_row(.x, .after = Inf)) %>%
ungroup()
View(tmp)
tmp <- mod.r %>%
group_split(mod) %>%
map_dfr(~ add_row(.x, .after = Inf)) %>%
ungroup() %>%
mutate(Moderator =
if_else(is.na(level),
mod,
paste0("  ",
level))
)
View(tmp)
tmp <- mod.r %>%
group_split(mod) %>%
map_dfr(~ add_row(.x, .after = Inf)) %>%
ungroup() %>%
mutate(Moderator =
if_else(is.na(level),
mod,
paste0("  ",
level))
) %>%
relocate(Moderator, .before = mod) %>%
mutate(d = if_else(is.na(d),
99,
as.numeric(d)),
LB = if_else(is.na(LB),
99,
as.numeric(LB)),
UB = if_else(is.na(UB),
99,
as.numeric(UB))) %>%
select(Moderator, s, k, d, LB, UB, p) %>%
add_row(Moderator = "Moderator",
s = "s",
k = "k",
d = 99,
LB = 99,
UB = 99,
p = "p-value",
.before = 1)
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point() +
geom_errorbarh(height = .5) +
# add moderator label
geom_text(aes(label = Moderator),
x = -2.25,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add s label
geom_text(aes(label = s),
x = -1.75,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add k label
# add study label
geom_text(aes(label = k),
x = -1.5,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add p-value label
geom_text(aes(label = p),
x = 2.1,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
coord_cartesian(xlim=c(-2.25, 2.25)) +
geom_vline(xintercept = 0,
color = "black",
linetype = "dashed",
alpha = .5) +
theme_classic() +
theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
axis.title.y = element_blank(),
axis.line.y = element_blank())
tmp[nrow(tmp), ] <- NULL
tmp[nrow(tmp), ]
tmp <- mod.r %>%
group_split(mod) %>%
map_dfr(~ add_row(.x, .after = Inf)) %>%
ungroup() %>%
mutate(Moderator =
if_else(is.na(level),
mod,
paste0("  ",
level))
) %>%
relocate(Moderator, .before = mod) %>%
mutate(d = if_else(is.na(d),
99,
as.numeric(d)),
LB = if_else(is.na(LB),
99,
as.numeric(LB)),
UB = if_else(is.na(UB),
99,
as.numeric(UB))) %>%
select(Moderator, s, k, d, LB, UB, p) %>%
add_row(Moderator = "Moderator",
s = "s",
k = "k",
d = 99,
LB = 99,
UB = 99,
p = "p-value",
.before = 1)
View(tmp)
tmp[nrow(tmp), ]
tmp[nrow(tmp), ] <- NULL
tmp[nrow(tmp), ] <- NA
tmp[nrow(tmp), ] <- NULL
tmp <- tmp[1 : (nrow(tmp) - 1), ]
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point() +
geom_errorbarh(height = .5) +
# add moderator label
geom_text(aes(label = Moderator),
x = -2.25,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add s label
geom_text(aes(label = s),
x = -1.75,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add k label
# add study label
geom_text(aes(label = k),
x = -1.5,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add p-value label
geom_text(aes(label = p),
x = 2.1,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
coord_cartesian(xlim=c(-2.25, 2.25)) +
geom_vline(xintercept = 0,
color = "black",
linetype = "dashed",
alpha = .5) +
theme_classic() +
theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
axis.title.y = element_blank(),
axis.line.y = element_blank())
tmp <- mod.r %>%
group_split(mod) %>%
map_dfr(~ add_row(.x, .after = Inf)) %>%
ungroup() %>%
mutate(Moderator =
if_else(is.na(level),
mod,
paste0("  ",
level))
) %>%
relocate(Moderator, .before = mod) %>%
mutate(d = if_else(is.na(d),
99,
as.numeric(d)),
LB = if_else(is.na(LB),
99,
as.numeric(LB)),
UB = if_else(is.na(UB),
99,
as.numeric(UB))) %>%
select(Moderator, s, k, d, LB, UB, p) %>%
add_row(Moderator = "Moderator",
s = "s",
k = "k",
d = 99,
LB = 99,
UB = 99,
p = "p-value",
.before = 1) %>%
add_row(Moderator = NA,
s = NA,
k = NA,
d = 99,
LB = 99,
UB = 99,
p = NA,
.after = 1)
tmp <- tmp[1 : (nrow(tmp) - 1), ]
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point() +
geom_errorbarh(height = .5) +
# add moderator label
geom_text(aes(label = Moderator),
x = -2.25,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add s label
geom_text(aes(label = s),
x = -1.75,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add k label
# add study label
geom_text(aes(label = k),
x = -1.5,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add p-value label
geom_text(aes(label = p),
x = 2.1,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
coord_cartesian(xlim=c(-2.25, 2.25)) +
geom_vline(xintercept = 0,
color = "black",
linetype = "dashed",
alpha = .5) +
theme_classic() +
theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
axis.title.y = element_blank(),
axis.line.y = element_blank())
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point(shape = "diamond")
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point(shape = "diamond") +
geom_errorbarh(height = .5) +
# add moderator label
geom_text(aes(label = Moderator),
x = -2.25,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add s label
geom_text(aes(label = s),
x = -1.75,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add k label
# add study label
geom_text(aes(label = k),
x = -1.5,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add p-value label
geom_text(aes(label = p),
x = 2.1,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
coord_cartesian(xlim=c(-2.25, 2.25)) +
geom_vline(xintercept = 0,
color = "black",
linetype = "dashed",
alpha = .5) +
theme_classic() +
theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
axis.title.y = element_blank(),
axis.line.y = element_blank())
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point(shape = "diamond",
size = 2)
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point(shape = "diamond",
size = 3)
ggplot(data= tmp,
aes(y = rev(1: nrow(tmp)),
x = d,
xmin = LB,
xmax = UB)) +
geom_point(shape = "diamond",
size = 3) +
geom_errorbarh(height = .5) +
# add moderator label
geom_text(aes(label = Moderator),
x = -2.25,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add s label
geom_text(aes(label = s),
x = -1.75,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add k label
# add study label
geom_text(aes(label = k),
x = -1.5,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
# add p-value label
geom_text(aes(label = p),
x = 2.1,
hjust = 0,
fontface = c("bold",
rep(x= "plain",
times = nrow(tmp) - 1)
),
) +
coord_cartesian(xlim=c(-2.25, 2.25)) +
geom_vline(xintercept = 0,
color = "black",
linetype = "dashed",
alpha = .5) +
theme_classic() +
theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
axis.title.y = element_blank(),
axis.line.y = element_blank())
